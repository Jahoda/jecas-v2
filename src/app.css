@import 'tailwindcss';
@plugin '@tailwindcss/typography';
@plugin '@tailwindcss/forms';

@theme {
	/* Custom Colors - Lochmara */
	--color-lochmara-50: #f0f7ff;
	--color-lochmara-100: #e0eefe;
	--color-lochmara-200: #bbddfc;
	--color-lochmara-300: #7fc1fa;
	--color-lochmara-400: #3aa2f6;
	--color-lochmara-500: #1081dd;
	--color-lochmara-600: #0468c5;
	--color-lochmara-700: #05539f;
	--color-lochmara-800: #094883;
	--color-lochmara-900: #0d3d6d;
	--color-lochmara-950: #092648;

	/* Custom Colors - Cerise */
	--color-cerise-50: #fdf2f9;
	--color-cerise-100: #fbe8f5;
	--color-cerise-200: #fad0ec;
	--color-cerise-300: #f7aadc;
	--color-cerise-400: #f175c3;
	--color-cerise-500: #e84ca9;
	--color-cerise-600: #da3f94;
	--color-cerise-700: #ba1c6e;
	--color-cerise-800: #991b5b;
	--color-cerise-900: #801b4e;
	--color-cerise-950: #4e092b;

	/* Custom Blue Colors */
	--color-blue-dark: #0d6ab7;
	--color-blue-light: #1081dd;

	/* Grid Template Columns */
	--grid-template-columns-homepage-3: 6fr minmax(280px, 2fr) minmax(340px, 3fr);
	--grid-template-columns-homepage-2: 1fr 300px;
	--grid-template-columns-repeat-48: repeat(auto-fill, minmax(300px, 2fr));
	--grid-template-columns-post: 1fr 42rem 1fr;

	/* Grid Template Areas */
	--grid-template-areas-posts: 'main main' 'rest rest';
}

/* Typography Configuration for prose elements */
@layer components {
	.prose {
		--tw-prose-links: var(--color-blue-dark);
	}

	.prose a {
		color: var(--color-blue-dark);
	}

	.prose a:hover {
		color: var(--color-blue-light);
	}

	.prose blockquote p:first-of-type::before,
	.prose blockquote p:last-of-type::after {
		content: none;
	}

	.prose-invert a {
		color: var(--color-blue-dark);
	}

	.prose-invert a:hover {
		color: var(--color-blue-light);
	}
}

.prose a[href^='/']:not(.button),
.prose a[href^='/'] code,
.prose p a[href^='#']:not([href='#']),
.inner-link,
.inner-link code {
	@apply rounded bg-amber-100 px-1 py-0.5 dark:bg-amber-500/20;
}

.inner-link img {
	position: absolute;
	top: 100%;
	left: 0;
}

.prose .live a[href^='/'],
.prose .live a[href^='#'] {
	background: none;
}

.prose a[href^='#']:not([href='#']) {
	border-bottom-style: dotted;
}

.prose a[href^='https://kod.djpw.cz']:not(.button) {
	padding-left: 24px;
}

.note {
	@apply border-lochmara-200 from-lochmara-50 to-lochmara-100 dark:border-lochmara-700 dark:from-lochmara-900/50 dark:to-lochmara-800/50 relative overflow-hidden rounded-xl border bg-gradient-to-br p-6 py-px;
}

.note::before {
	@apply from-lochmara-400 to-lochmara-600 absolute -top-2 -left-2 h-8 w-8 rounded-full bg-gradient-to-br pt-1 pl-1 text-white shadow-md;
	content: 'üí°';
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 16px;
}

.note p {
	@apply text-lochmara-900 dark:text-lochmara-100;
}

.note strong {
	@apply text-lochmara-800 dark:text-lochmara-50;
}

.prose a[href^='https://kod.djpw.cz']:not(.button) {
	background: url('/external-favicons/kod.djpw.cz.ico') no-repeat left 2px center;
	background-size: 1em 1em;

	@apply rounded bg-blue-100 py-0.5 pr-1 dark:bg-blue-900/50;
}

.prose a[href^='http://diskuse.jakpsatweb.cz'],
.prose a[href^='http://djpw.cz'] {
	padding-left: 20px;
	background: #d3fcab url('https://diskuse.jakpsatweb.cz/favicon.ico') no-repeat;
	background-size: 1em 100%;
}

.prose a[href^='https://github.com'],
.prose a[href^='https://gist.github.com'] {
	padding-left: 22px;
	background: #e4e4f1 url('https://github.com/favicon.ico') 2px no-repeat;
	background-size: 1em 100%;
	border-radius: 2px;
}

.prose a[href^='http://php.net'] {
	padding-left: 20px;
	background: #e4e4f1 url('https://php.net/favicon.ico') no-repeat;
	background-size: 1em 100%;
}

.prose a[href^='http://devdocs.io/'] {
	padding-left: 20px;
	background: #e4e4f1 url('https://devdocs.io/favicon.ico') no-repeat;
	background-size: 1em 100%;
}

.prose a[href^='http://cs.wikipedia.org/'],
.prose a[href^='http://en.wikipedia.org/'] {
	padding-left: 20px;
	background: #e4e4f1 url('https://cs.wikipedia.org/favicon.ico') no-repeat;
	background-size: 1em 100%;
}

.prose a[href^='https://www.vzhurudolu.cz'] {
	padding-left: 1.25rem;
	background: url('https://www.vzhurudolu.cz/favicon.ico') center left no-repeat;
	background-size: 1rem 1rem;
}

.prose a[href^='https://developer.mozilla.org'] {
	padding-left: 1.25rem;
	background: url('https://developer.mozilla.org/favicon.ico') center left no-repeat;
	background-size: 1rem 1rem;
}

.prose a[href^='https://caniuse.com'] {
	padding-left: 1.25rem;
	background: url('https://caniuse.com/img/favicon-128.png') center left no-repeat;
	background-size: 1rem 1rem;
}

.prose a[href^='https://www.npmjs.com'] {
	padding-left: 1.25rem;
	background: url('https://static.npmjs.com/b0f1a8318363185cc2ea6a40ac23eeb2.png') center left
		no-repeat;
	background-size: 1rem 1rem;
}

.external-content,
.internal-content {
	@apply rounded-md p-2;

	& ul {
		margin: 0;
	}
}

.internal-content {
	@apply bg-amber-50 dark:bg-amber-500/20;
}

.external-content {
	@apply bg-blue-50 dark:bg-blue-900/50;
}

.live {
	@apply relative rounded border border-blue-400 bg-blue-300 p-4 dark:border-blue-700 dark:bg-blue-800;
}

code,
pre,
var {
	@apply rounded !bg-gray-100 !font-normal !text-pink-600 dark:!bg-gray-800 dark:!text-pink-400;
}

code {
	@apply px-0.5;
}

/* Syntax Highlighting */
pre.hl-pre {
	@apply relative overflow-x-auto;
}

pre.hl-pre::before {
	content: attr(data-language);
	@apply absolute top-0 right-0 rounded-bl bg-gray-200 px-2 py-0.5 text-xs text-gray-500 uppercase dark:bg-gray-700 dark:text-gray-400;
}

pre.hl-pre code {
	@apply !text-gray-800 dark:!text-gray-200;
}

/* Token colors - Light mode */
.hl-keyword {
	@apply text-purple-600 font-semibold;
}

.hl-string {
	@apply text-green-600;
}

.hl-comment {
	@apply text-gray-500 italic;
}

.hl-number {
	@apply text-orange-600;
}

.hl-function {
	@apply text-blue-600;
}

.hl-operator {
	@apply text-gray-700;
}

.hl-tag {
	@apply text-pink-600 font-semibold;
}

.hl-attr {
	@apply text-orange-500;
}

.hl-value {
	@apply text-green-600;
}

.hl-punctuation {
	@apply text-gray-600;
}

.hl-variable {
	@apply text-red-600;
}

.hl-property {
	@apply text-cyan-600;
}

/* Token colors - Dark mode */
@media (prefers-color-scheme: dark) {
	.hl-keyword {
		@apply text-purple-400;
	}

	.hl-string {
		@apply text-green-400;
	}

	.hl-comment {
		@apply text-gray-500;
	}

	.hl-number {
		@apply text-orange-400;
	}

	.hl-function {
		@apply text-blue-400;
	}

	.hl-operator {
		@apply text-gray-400;
	}

	.hl-tag {
		@apply text-pink-400;
	}

	.hl-attr {
		@apply text-orange-300;
	}

	.hl-value {
		@apply text-green-400;
	}

	.hl-punctuation {
		@apply text-gray-500;
	}

	.hl-variable {
		@apply text-red-400;
	}

	.hl-property {
		@apply text-cyan-400;
	}
}

.prose button:not(.custom-button) {
	@apply bg-blue-light hover:bg-blue-dark inline-flex items-center gap-2 truncate rounded-lg px-4 py-2 leading-6 font-semibold text-white transition-all active:translate-y-0.5;
}

.prose button img {
	margin: 0;
}

/* Light theme scrollbar styles */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	@apply bg-slate-50;
}

::-webkit-scrollbar-thumb {
	@apply rounded-md bg-slate-400/75 transition-colors;
}

::-webkit-scrollbar-thumb:hover {
	@apply bg-slate-400;
}

@media (prefers-color-scheme: dark) {
	/* Dark theme scrollbar styles */
	::-webkit-scrollbar-track {
		@apply bg-slate-800;
	}

	::-webkit-scrollbar-thumb {
		@apply rounded-md bg-slate-600/75;
	}

	::-webkit-scrollbar-thumb:hover {
		@apply bg-slate-600;
	}
}

/* Light theme scrollbar styles for Firefox */
* {
	scrollbar-width: thin;
	scrollbar-color: rgba(156, 163, 175, 0.75) #f9fafb;
}

/* Dark theme scrollbar styles for Firefox */
@media (prefers-color-scheme: dark) {
	* {
		scrollbar-width: thin;
		scrollbar-color: rgba(55, 65, 81, 0.75) #1f2937;
	}
}

#disqus_thread {
	/* force light mode */
	color-scheme: light !important;
	filter: none;
	background-color: white;
}

/* If you switch your site to dark mode, keep forcing ‚Äúlight‚Äù inside the iframe */
[data-theme='dark'] #disqus_thread {
	color-scheme: light !important;
	color: white !important;
	background-color: black !important;
}

@utility prose {
	blockquote {
		/* Disable adding quote marks to block-quotes: https://github.com/tailwindlabs/tailwindcss-typography/issues/66 */
		p {
			&:first-of-type::before,
			&:last-of-type::after {
				content: none;
			}
		}
	}
}
